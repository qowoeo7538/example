# RMI远程调用

[TOC]

## 目录
- [远程对象](#1远程对象)
  - [stub代理对象](#11stub代理对象)
  - [skeleton对象](#12skeleton对象)
- [类型](#2类型)

## 1.远程对象

### 1.1.stub代理对象
作用：
1. 负责调用参数和返回值的流化(serialization)、打包解包，以及网络层的通讯过程。
2. 每个远程对象都含一个代理对象stub，当运行在本地Java虚拟机上的程序调用运行在远程Java虚拟机上的对象方法时，首先会在本地创建该对象的代理对象stub, 然后调用代理对象上匹配的方法.

流程：
1. 与远程对象所在的虚拟机建立连接.
2. 打包(marshal)参数并发送到远程虚拟机.
3. 等待执行结果.
4. 解包(unmarshal)返回值或返回的错误.
5. 返回调用结果给调用程序.

### 1.2.skeleton对象
作用：skeleton运行在远程对象所在的虚拟机上，接受来自stub对象的调用.

流程:
1. 解包stub传来的参数.
2. 调用远程对象匹配的方法.
3. 打包返回值或错误发送给stub对象.

## 2.类型
- RMI
- RMI-IIOP