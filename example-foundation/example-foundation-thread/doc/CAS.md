[TOC]

## 1 原理

线程甲从主内存中拷贝了变量A为1，在自己的线程中将副本A改为了10，当线程甲准备把这个变量更新到主内存时，如果主内存A的值不改变（期望值），还是1，那么线程甲成功更新主内存中A的值。但如果主内存A的值已经先被其他线程改掉不为1，那么线程甲不断地重试，直到成功为止（自旋）。

